{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kullayswamy konijeti\\\\Desktop\\\\login\\\\ulp\\\\src\\\\component\\\\Login.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { Button, Checkbox, Form, Input } from \"antd\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport Cookies from \"js-cookie\";\nimport \"./Login.css\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const [showError, setShowError] = useState(false);\n  const navigate = useNavigate();\n  const onFinish = values => {\n    console.log(\"Success:\", values);\n    const data = {\n      username: values.username,\n      password: values.password\n    };\n    const headers = {\n      contentType: \"application/json\"\n    };\n    axios.post(\"http://15.207.40.153:8010/ulp/api/auth/login\", data, headers).then(response => {\n      const accessToken = response.data.accessToken;\n      const pushingStudentRole = response.data.roles.push(\"STUDENT\");\n      console.log(pushingStudentRole);\n      const roles = response.data.roles;\n      console.log(roles);\n      console.log(\"roles\", roles);\n      const rolesLength = response.data.roles.length;\n      console.log((\"rolee\", rolesLength));\n      if (response.status === 200) {\n        Cookies.set(\"jwt_Token\", accessToken, {\n          expires: 1\n        });\n        if (rolesLength === 0 || rolesLength === 1) {\n          window.open(`http://localhost:3004/?${accessToken}`);\n        } else {\n          navigate(\"/home\");\n        }\n      }\n    }).catch(error => {\n      console.log(error.response);\n      setShowError({\n        showError: true\n      });\n      if (error.response.status !== 200) {\n        setShowError({\n          showError: true\n        });\n      }\n    });\n  };\n  const onFinishFailed = errorInfo => {\n    console.log(\"Failed:\", errorInfo);\n  };\n\n  //  --------------------------------------------------------------// return---------------------------------------------------------------------------------------\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main_container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"first-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Edpedia\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Unified Login Portal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"second_container\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Demo School\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form, {\n          name: \"basic\",\n          labelCol: {\n            span: 8\n          },\n          wrapperCol: {\n            span: 16\n          },\n          initialValues: {\n            remember: true\n          },\n          onFinish: onFinish,\n          onFinishFailed: onFinishFailed,\n          autoComplete: \"off\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n            label: \"Username\",\n            name: \"username\",\n            rules: [{\n              required: true,\n              message: \"Please input your username!\"\n            }],\n            children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n            label: \"Password\",\n            name: \"password\",\n            rules: [{\n              required: true,\n              message: \"Please input your password!\"\n            }],\n            children: /*#__PURE__*/_jsxDEV(Input.Password, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n            name: \"remember\",\n            valuePropName: \"checked\",\n            wrapperCol: {\n              offset: 8,\n              span: 16\n            },\n            children: /*#__PURE__*/_jsxDEV(Checkbox, {\n              children: \"Remember me\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n            wrapperCol: {\n              offset: 8,\n              span: 16\n            },\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              type: \"primary\",\n              htmlType: \"submit\",\n              children: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 15\n            }, this), showError && /*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"errorMsg\",\n              children: \"*UserName and Password didn't match\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n_s(Login, \"uWrSD2VjT9bJYhZPbpOoLNpb0uc=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","Button","Checkbox","Form","Input","axios","useNavigate","Cookies","Login","showError","setShowError","navigate","onFinish","values","console","log","data","username","password","headers","contentType","post","then","response","accessToken","pushingStudentRole","roles","push","rolesLength","length","status","set","expires","window","open","catch","error","onFinishFailed","errorInfo","span","remember","required","message","offset"],"sources":["C:/Users/kullayswamy konijeti/Desktop/login/ulp/src/component/Login.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { Button, Checkbox, Form, Input } from \"antd\";\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Cookies from \"js-cookie\";\r\nimport \"./Login.css\";\r\n\r\nconst Login = () => {\r\n  const [showError, setShowError] = useState(false);\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const onFinish = (values) => {\r\n    console.log(\"Success:\", values);\r\n\r\n    const data = {\r\n      username: values.username,\r\n      password: values.password,\r\n    };\r\n\r\n    const headers = {\r\n      contentType: \"application/json\",\r\n    };\r\n\r\n    axios\r\n      .post(\"http://15.207.40.153:8010/ulp/api/auth/login\", data, headers)\r\n      .then((response) => {\r\n        const accessToken = response.data.accessToken;\r\n\r\n        const pushingStudentRole = response.data.roles.push(\"STUDENT\");\r\n        console.log(pushingStudentRole);\r\n\r\n        const roles = response.data.roles;\r\n        console.log(roles);\r\n        console.log(\"roles\", roles);\r\n\r\n        const rolesLength = response.data.roles.length;\r\n        console.log((\"rolee\", rolesLength));\r\n\r\n        if (response.status === 200) {\r\n          Cookies.set(\"jwt_Token\", accessToken, { expires: 1 });\r\n          if (rolesLength === 0 || rolesLength === 1) {\r\n            window.open(`http://localhost:3004/?${accessToken}`);\r\n          } else {\r\n            navigate(\"/home\");\r\n          }\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(error.response);\r\n        setShowError({ showError: true });\r\n        if (error.response.status !== 200) {\r\n          setShowError({ showError: true });\r\n        }\r\n      });\r\n  };\r\n\r\n  const onFinishFailed = (errorInfo) => {\r\n    console.log(\"Failed:\", errorInfo);\r\n  };\r\n\r\n  //  --------------------------------------------------------------// return---------------------------------------------------------------------------------------\r\n  return (\r\n    <>\r\n      <div className=\"main_container\">\r\n        <div className=\"first-container\">\r\n          <h1>Edpedia</h1>\r\n          <h3>\r\n            <span>Unified Login Portal</span>\r\n          </h3>\r\n        </div>\r\n        <div className=\"second_container\">\r\n          <p>Demo School</p>\r\n          <Form\r\n            name=\"basic\"\r\n            labelCol={{\r\n              span: 8,\r\n            }}\r\n            wrapperCol={{\r\n              span: 16,\r\n            }}\r\n            initialValues={{\r\n              remember: true,\r\n            }}\r\n            onFinish={onFinish}\r\n            onFinishFailed={onFinishFailed}\r\n            autoComplete=\"off\"\r\n          >\r\n            <Form.Item\r\n              label=\"Username\"\r\n              name=\"username\"\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: \"Please input your username!\",\r\n                },\r\n              ]}\r\n            >\r\n              <Input />\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n              label=\"Password\"\r\n              name=\"password\"\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: \"Please input your password!\",\r\n                },\r\n              ]}\r\n            >\r\n              <Input.Password />\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n              name=\"remember\"\r\n              valuePropName=\"checked\"\r\n              wrapperCol={{\r\n                offset: 8,\r\n                span: 16,\r\n              }}\r\n            >\r\n              <Checkbox>Remember me</Checkbox>\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n              wrapperCol={{\r\n                offset: 8,\r\n                span: 16,\r\n              }}\r\n            >\r\n              <Button type=\"primary\" htmlType=\"submit\">\r\n                Submit\r\n              </Button>\r\n              {showError && (\r\n                <h5 className=\"errorMsg\">\r\n                  *UserName and Password didn't match\r\n                </h5>\r\n              )}\r\n            </Form.Item>\r\n          </Form>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\nexport default Login;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,MAAM,EAAEC,QAAQ,EAAEC,IAAI,EAAEC,KAAK,QAAQ,MAAM;AACpD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,OAAO,MAAM,WAAW;AAC/B,OAAO,aAAa;AAAC;AAAA;AAErB,MAAMC,KAAK,GAAG,MAAM;EAAA;EAClB,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGV,QAAQ,CAAC,KAAK,CAAC;EAEjD,MAAMW,QAAQ,GAAGL,WAAW,EAAE;EAE9B,MAAMM,QAAQ,GAAIC,MAAM,IAAK;IAC3BC,OAAO,CAACC,GAAG,CAAC,UAAU,EAAEF,MAAM,CAAC;IAE/B,MAAMG,IAAI,GAAG;MACXC,QAAQ,EAAEJ,MAAM,CAACI,QAAQ;MACzBC,QAAQ,EAAEL,MAAM,CAACK;IACnB,CAAC;IAED,MAAMC,OAAO,GAAG;MACdC,WAAW,EAAE;IACf,CAAC;IAEDf,KAAK,CACFgB,IAAI,CAAC,8CAA8C,EAAEL,IAAI,EAAEG,OAAO,CAAC,CACnEG,IAAI,CAAEC,QAAQ,IAAK;MAClB,MAAMC,WAAW,GAAGD,QAAQ,CAACP,IAAI,CAACQ,WAAW;MAE7C,MAAMC,kBAAkB,GAAGF,QAAQ,CAACP,IAAI,CAACU,KAAK,CAACC,IAAI,CAAC,SAAS,CAAC;MAC9Db,OAAO,CAACC,GAAG,CAACU,kBAAkB,CAAC;MAE/B,MAAMC,KAAK,GAAGH,QAAQ,CAACP,IAAI,CAACU,KAAK;MACjCZ,OAAO,CAACC,GAAG,CAACW,KAAK,CAAC;MAClBZ,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEW,KAAK,CAAC;MAE3B,MAAME,WAAW,GAAGL,QAAQ,CAACP,IAAI,CAACU,KAAK,CAACG,MAAM;MAC9Cf,OAAO,CAACC,GAAG,EAAE,OAAO,EAAEa,WAAW,EAAE;MAEnC,IAAIL,QAAQ,CAACO,MAAM,KAAK,GAAG,EAAE;QAC3BvB,OAAO,CAACwB,GAAG,CAAC,WAAW,EAAEP,WAAW,EAAE;UAAEQ,OAAO,EAAE;QAAE,CAAC,CAAC;QACrD,IAAIJ,WAAW,KAAK,CAAC,IAAIA,WAAW,KAAK,CAAC,EAAE;UAC1CK,MAAM,CAACC,IAAI,CAAE,0BAAyBV,WAAY,EAAC,CAAC;QACtD,CAAC,MAAM;UACLb,QAAQ,CAAC,OAAO,CAAC;QACnB;MACF;IACF,CAAC,CAAC,CACDwB,KAAK,CAAEC,KAAK,IAAK;MAChBtB,OAAO,CAACC,GAAG,CAACqB,KAAK,CAACb,QAAQ,CAAC;MAC3Bb,YAAY,CAAC;QAAED,SAAS,EAAE;MAAK,CAAC,CAAC;MACjC,IAAI2B,KAAK,CAACb,QAAQ,CAACO,MAAM,KAAK,GAAG,EAAE;QACjCpB,YAAY,CAAC;UAAED,SAAS,EAAE;QAAK,CAAC,CAAC;MACnC;IACF,CAAC,CAAC;EACN,CAAC;EAED,MAAM4B,cAAc,GAAIC,SAAS,IAAK;IACpCxB,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEuB,SAAS,CAAC;EACnC,CAAC;;EAED;EACA,oBACE;IAAA,uBACE;MAAK,SAAS,EAAC,gBAAgB;MAAA,wBAC7B;QAAK,SAAS,EAAC,iBAAiB;QAAA,wBAC9B;UAAA,UAAI;QAAO;UAAA;UAAA;UAAA;QAAA,QAAK,eAChB;UAAA,uBACE;YAAA,UAAM;UAAoB;YAAA;YAAA;YAAA;UAAA;QAAO;UAAA;UAAA;UAAA;QAAA,QAC9B;MAAA;QAAA;QAAA;QAAA;MAAA,QACD,eACN;QAAK,SAAS,EAAC,kBAAkB;QAAA,wBAC/B;UAAA,UAAG;QAAW;UAAA;UAAA;UAAA;QAAA,QAAI,eAClB,QAAC,IAAI;UACH,IAAI,EAAC,OAAO;UACZ,QAAQ,EAAE;YACRC,IAAI,EAAE;UACR,CAAE;UACF,UAAU,EAAE;YACVA,IAAI,EAAE;UACR,CAAE;UACF,aAAa,EAAE;YACbC,QAAQ,EAAE;UACZ,CAAE;UACF,QAAQ,EAAE5B,QAAS;UACnB,cAAc,EAAEyB,cAAe;UAC/B,YAAY,EAAC,KAAK;UAAA,wBAElB,QAAC,IAAI,CAAC,IAAI;YACR,KAAK,EAAC,UAAU;YAChB,IAAI,EAAC,UAAU;YACf,KAAK,EAAE,CACL;cACEI,QAAQ,EAAE,IAAI;cACdC,OAAO,EAAE;YACX,CAAC,CACD;YAAA,uBAEF,QAAC,KAAK;cAAA;cAAA;cAAA;YAAA;UAAG;YAAA;YAAA;YAAA;UAAA,QACC,eAEZ,QAAC,IAAI,CAAC,IAAI;YACR,KAAK,EAAC,UAAU;YAChB,IAAI,EAAC,UAAU;YACf,KAAK,EAAE,CACL;cACED,QAAQ,EAAE,IAAI;cACdC,OAAO,EAAE;YACX,CAAC,CACD;YAAA,uBAEF,QAAC,KAAK,CAAC,QAAQ;cAAA;cAAA;cAAA;YAAA;UAAG;YAAA;YAAA;YAAA;UAAA,QACR,eAEZ,QAAC,IAAI,CAAC,IAAI;YACR,IAAI,EAAC,UAAU;YACf,aAAa,EAAC,SAAS;YACvB,UAAU,EAAE;cACVC,MAAM,EAAE,CAAC;cACTJ,IAAI,EAAE;YACR,CAAE;YAAA,uBAEF,QAAC,QAAQ;cAAA,UAAC;YAAW;cAAA;cAAA;cAAA;YAAA;UAAW;YAAA;YAAA;YAAA;UAAA,QACtB,eAEZ,QAAC,IAAI,CAAC,IAAI;YACR,UAAU,EAAE;cACVI,MAAM,EAAE,CAAC;cACTJ,IAAI,EAAE;YACR,CAAE;YAAA,wBAEF,QAAC,MAAM;cAAC,IAAI,EAAC,SAAS;cAAC,QAAQ,EAAC,QAAQ;cAAA,UAAC;YAEzC;cAAA;cAAA;cAAA;YAAA,QAAS,EACR9B,SAAS,iBACR;cAAI,SAAS,EAAC,UAAU;cAAA,UAAC;YAEzB;cAAA;cAAA;cAAA;YAAA,QACD;UAAA;YAAA;YAAA;YAAA;UAAA,QACS;QAAA;UAAA;UAAA;UAAA;QAAA,QACP;MAAA;QAAA;QAAA;QAAA;MAAA,QACH;IAAA;MAAA;MAAA;MAAA;IAAA;EACF,iBACL;AAEP,CAAC;AAAC,GA1IID,KAAK;EAAA,QAGQF,WAAW;AAAA;AAAA,KAHxBE,KAAK;AA2IX,eAAeA,KAAK;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}